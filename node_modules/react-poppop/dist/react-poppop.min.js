!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","prop-types","react-dom"],t):e.PopPop=t(e.React,e.PropTypes,e.ReactDOM)}(this,function(e,d,h){"use strict";var y="default"in e?e.default:e;function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t){return e(t={exports:{}},t.exports),t.exports}d=d&&d.hasOwnProperty("default")?d.default:d,h=h&&h.hasOwnProperty("default")?h.default:h;var r=n(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default});t(r);var v=n(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var n,o=(n=r)&&n.__esModule?n:{default:n};e.exports=t.default});function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t(v);var m=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))},E=n(function(e,t){t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};var n,o=(n=d)&&n.__esModule?n:{default:n};t.timeoutsShape=o.default.oneOfType([o.default.number,o.default.shape({enter:o.default.number,exit:o.default.number}).isRequired]),t.classNamesShape=o.default.oneOfType([o.default.string,o.default.shape({enter:o.default.string,exit:o.default.string,active:o.default.string}),o.default.shape({enter:o.default.string,enterActive:o.default.string,exit:o.default.string,exitActive:o.default.string})])});t(E);var x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(function(){function u(e){this.value=e}function e(r){var i,a;function s(e,t){try{var n=r[e](t),o=n.value;o instanceof u?Promise.resolve(o.value).then(function(e){s("next",e)},function(e){s("throw",e)}):l(n.done?"return":"normal",n.value)}catch(e){l("throw",e)}}function l(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}(i=i.next)?s(i.key,i.arg):a=null}this._invoke=function(o,r){return new Promise(function(e,t){var n={key:o,arg:r,resolve:e,reject:t,next:null};a?a=a.next=n:(i=a=n,s(o,r))})},"function"!=typeof r.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),a=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},b=n(function(e,t){t.__esModule=!0,t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var n=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(d),i=r(y),o=r(h);function r(e){return e&&e.__esModule?e:{default:e}}var l=t.UNMOUNTED="unmounted",u=t.EXITED="exited",p=t.ENTERING="entering",c=t.ENTERED="entered",f=t.EXITING="exiting",a=function(a){function s(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":x(t))&&"function"!=typeof t?e:t}(this,a.call(this,e,t)),o=t.transitionGroup,r=o&&!o.isMounting?e.enter:e.appear,i=void 0;return n.nextStatus=null,e.in?r?(i=u,n.nextStatus=p):i=c:i=e.unmountOnExit||e.mountOnEnter?l:u,n.state={status:i},n.nextCallback=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":x(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a),s.prototype.getChildContext=function(){return{transitionGroup:null}},s.prototype.componentDidMount=function(){this.updateStatus(!0)},s.prototype.componentWillReceiveProps=function(e){var t=(this.pendingState||this.state).status;e.in?(t===l&&this.setState({status:u}),t!==p&&t!==c&&(this.nextStatus=p)):t!==p&&t!==c||(this.nextStatus=f)},s.prototype.componentDidUpdate=function(){this.updateStatus()},s.prototype.componentWillUnmount=function(){this.cancelNextCallback()},s.prototype.getTimeouts=function(){var e=this.props.timeout,t=void 0,n=void 0,o=void 0;return t=n=o=e,null!=e&&"number"!=typeof e&&(t=e.exit,n=e.enter,o=e.appear),{exit:t,enter:n,appear:o}},s.prototype.updateStatus=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.nextStatus;if(null!==t){this.nextStatus=null,this.cancelNextCallback();var n=o.default.findDOMNode(this);t===p?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:l})},s.prototype.performEnter=function(e,t){var n=this,o=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts();t||o?(this.props.onEnter(e,r),this.safeSetState({status:p},function(){n.props.onEntering(e,r),n.onTransitionEnd(e,i.enter,function(){n.safeSetState({status:c},function(){n.props.onEntered(e,r)})})})):this.safeSetState({status:c},function(){n.props.onEntered(e)})},s.prototype.performExit=function(e){var t=this,n=this.props.exit,o=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:f},function(){t.props.onExiting(e),t.onTransitionEnd(e,o.exit,function(){t.safeSetState({status:u},function(){t.props.onExited(e)})})})):this.safeSetState({status:u},function(){t.props.onExited(e)})},s.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.prototype.safeSetState=function(e,t){var n=this;this.pendingState=e,t=this.setNextCallback(t),this.setState(e,function(){n.pendingState=null,t()})},s.prototype.setNextCallback=function(t){var n=this,o=!0;return this.nextCallback=function(e){o&&(o=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},s.prototype.onTransitionEnd=function(e,t,n){this.setNextCallback(n),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},s.prototype.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,o=function(e,t){var n={};for(var o in e)0<=t.indexOf(o)||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["children"]);if(delete o.in,delete o.mountOnEnter,delete o.unmountOnExit,delete o.appear,delete o.enter,delete o.exit,delete o.timeout,delete o.addEndListener,delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,"function"==typeof n)return n(e,o);var r=i.default.Children.only(n);return i.default.cloneElement(r,o)},s}(i.default.Component);function s(){}a.contextTypes={transitionGroup:n.object},a.childContextTypes={transitionGroup:function(){}},a.propTypes={},a.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:s,onEntering:s,onEntered:s,onExit:s,onExiting:s,onExited:s},a.UNMOUNTED=0,a.EXITED=1,a.ENTERING=2,a.ENTERED=3,a.EXITING=4,t.default=a});t(b);var u=n(function(e,t){t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(d),r=a(v),i=a(m),s=a(y),l=a(b);function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":x(t))&&"function"!=typeof t?e:t}var p=function(t,e){return e&&e.split(" ").forEach(function(e){return(0,r.default)(t,e)})},c=function(t,e){return e&&e.split(" ").forEach(function(e){return(0,i.default)(t,e)})},f=(n({},l.default.propTypes,{classNames:E.classNamesShape,onEnter:o.func,onEntering:o.func,onEntered:o.func,onExit:o.func,onExiting:o.func,onExited:o.func}),function(i){function a(){var e,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o=u(this,i.call.apply(i,[this].concat(n)))).onEnter=function(e,t){var n=o.getClassNames(t?"appear":"enter").className;o.removeClasses(e,"exit"),p(e,n),o.props.onEnter&&o.props.onEnter(e)},o.onEntering=function(e,t){var n=o.getClassNames(t?"appear":"enter").activeClassName;o.reflowAndAddClass(e,n),o.props.onEntering&&o.props.onEntering(e)},o.onEntered=function(e,t){o.removeClasses(e,t?"appear":"enter"),o.props.onEntered&&o.props.onEntered(e)},o.onExit=function(e){var t=o.getClassNames("exit").className;o.removeClasses(e,"appear"),o.removeClasses(e,"enter"),p(e,t),o.props.onExit&&o.props.onExit(e)},o.onExiting=function(e){var t=o.getClassNames("exit").activeClassName;o.reflowAndAddClass(e,t),o.props.onExiting&&o.props.onExiting(e)},o.onExited=function(e){o.removeClasses(e,"exit"),o.props.onExited&&o.props.onExited(e)},o.getClassNames=function(e){var t=o.props.classNames,n="string"!=typeof t?t[e]:t+"-"+e;return{className:n,activeClassName:"string"!=typeof t?t[e+"Active"]:n+"-active"}},u(o,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":x(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),a.prototype.removeClasses=function(e,t){var n=this.getClassNames(t),o=n.className,r=n.activeClassName;o&&c(e,o),r&&c(e,r)},a.prototype.reflowAndAddClass=function(e,t){e.scrollTop,p(e,t)},a.prototype.render=function(){var e=n({},this.props);return delete e.classNames,s.default.createElement(l.default,n({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},a}(s.default.Component));f.propTypes={},t.default=f,e.exports=t.default});t(u);var f=n(function(e,t){t.__esModule=!0,t.getChildMapping=function(e,n){var o=Object.create(null);e&&y.Children.map(e,function(e){return e}).forEach(function(e){var t;o[e.key]=(t=e,n&&(0,y.isValidElement)(t)?n(t):t)});return o},t.mergeChildMappings=function(t,n){function e(e){return e in n?n[e]:t[e]}t=t||{},n=n||{};var o=Object.create(null),r=[];for(var i in t)i in n?r.length&&(o[i]=r,r=[]):r.push(i);var a=void 0,s={};for(var l in n){if(o[l])for(a=0;a<o[l].length;a++){var u=o[l][a];s[o[l][a]]=e(u)}s[l]=e(l)}for(a=0;a<r.length;a++)s[r[a]]=e(r[a]);return s}});t(f);var c=n(function(e,t){t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n=o(d),a=o(y);function o(e){return e&&e.__esModule?e:{default:e}}var s=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},r=function(n){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":x(t))&&"function"!=typeof t?e:t}(this,n.call(this,e,t));return r.handleExited=function(n,e,t){var o=(0,f.getChildMapping)(r.props.children);n in o||(t&&t(e),r.setState(function(e){var t=i({},e.children);return delete t[n],{children:t}}))},r.state={children:(0,f.getChildMapping)(e.children,function(t){return(0,y.cloneElement)(t,{onExited:function(e){r.handleExited(t.key,e,t.props.onExited)},in:!0,appear:r.getProp(t,"appear"),enter:r.getProp(t,"enter"),exit:r.getProp(t,"exit")})})},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":x(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,n),o.prototype.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.prototype.getProp=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.props;return null!=n[t]?n[t]:e.props[t]},o.prototype.componentDidMount=function(){this.appeared=!0},o.prototype.componentWillReceiveProps=function(s){var l=this,u=this.state.children,p=(0,f.getChildMapping)(s.children),c=(0,f.mergeChildMappings)(u,p);Object.keys(c).forEach(function(e){var t=c[e];if((0,y.isValidElement)(t)){var n=function(e){l.handleExited(t.key,e,t.props.onExited)},o=e in u,r=e in p,i=u[e],a=(0,y.isValidElement)(i)&&!i.props.in;!r||o&&!a?r||!o||a?r&&o&&(0,y.isValidElement)(i)&&(c[e]=(0,y.cloneElement)(t,{onExited:n,in:i.props.in,exit:l.getProp(t,"exit",s),enter:l.getProp(t,"enter",s)})):c[e]=(0,y.cloneElement)(t,{in:!1}):c[e]=(0,y.cloneElement)(t,{onExited:n,in:!0,exit:l.getProp(t,"exit",s),enter:l.getProp(t,"enter",s)})}}),this.setState({children:c})},o.prototype.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=function(e,t){var n={};for(var o in e)0<=t.indexOf(o)||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["component","childFactory"]),r=this.state.children;return delete o.appear,delete o.enter,delete o.exit,a.default.createElement(t,o,s(r).map(n))},o}(a.default.Component);r.childContextTypes={transitionGroup:n.default.object.isRequired},r.propTypes={},r.defaultProps={component:"div",childFactory:function(e){return e}},t.default=r,e.exports=t.default});t(c);var g=n(function(e){var t=r(u),n=r(c),o=r(b);function r(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:o.default,TransitionGroup:n.default,CSSTransition:t.default}});t(g);var C=g.Transition,O=void 0!==h.createPortal,w=function(e){function n(e){i(this,n);var t=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.el=document.createElement("div"),document.body.appendChild(t.el),t.originBodyOverflow=document.body.style.overflow,t.isHidden="hidden"===t.originBodyOverflow,t.isHidden||(document.body.style.overflow="hidden"),t}return s(n,e),a(n,[{key:"componentDidMount",value:function(){this.renderUnstableSubtree()}},{key:"componentDidUpdate",value:function(){this.renderUnstableSubtree()}},{key:"componentWillReceiveProps",value:function(e){e.open||this.resetBodyOverflow()}},{key:"componentWillUnmount",value:function(){this.removePortal(),this.resetBodyOverflow()}},{key:"resetBodyOverflow",value:function(){this.isHidden||(document.body.style.overflow=this.originBodyOverflow)}},{key:"removePortal",value:function(){O?document.body.removeChild(this.el):h.unmountComponentAtNode(this.el)}},{key:"renderUnstableSubtree",value:function(){O||h.unstable_renderSubtreeIntoContainer(this,this.props.children,this.el)}},{key:"render",value:function(){return O?h.createPortal(this.props.children,this.el):null}}]),n}(e.Component),S={wrapper:{transition:"opacity .2s linear",opacity:0,visibility:"visible",position:"fixed",overflowX:"hidden",overflowY:"auto",zIndex:"1000",top:"0",left:"0",right:"0",bottom:"0",display:"flex",padding:"20px"},overlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:99,backgroundColor:"rgba(0,0,0,0.6)"},alignItems:{Top:{alignItems:"flex-start"},Center:{alignItems:"center"},Bottom:{alignItems:"flex-end"}},justifyContent:{Right:{justifyContent:"flex-end"},Left:{justifyContent:"flex-start"},Center:{justifyContent:"center"}},content:{transition:"all 0.3s",backgroundColor:"white",borderRadius:"3px",zIndex:2e3,position:"relative",boxShadow:"0 0 4px rgba(0,0,0,.14),0 4px 8px rgba(0,0,0,.28)",overflow:"scroll",maxWidth:"850px",padding:"10px 20px"},closeBtn:{float:"right",color:"#000",textShadow:"0 1px 0 #fff",opacity:"0.3",cursor:"pointer",marginTop:"10px",marginBottom:"10px",fontSize:"20px",width:"30px",height:"30px"},fullCloseBtn:{right:"0",top:"0",borderRadius:"0"},transitionStyles:{entering:{opacity:0},entered:{opacity:1},exited:{opacity:0}}},_=function(e){function n(e){i(this,n);var t=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleOverlayClick=function(){t.props.onClose&&t.props.closeOnOverlay&&t.props.onClose()},t.handleCloseBtn=function(){t.props.onClose&&t.props.onClose()},t.handleEscKeyDown=function(e){t.props.onClose&&t.props.closeOnEsc&&27===e.keyCode&&t.props.onClose()},t}return s(n,e),a(n,[{key:"componentDidMount",value:function(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleEscKeyDown)}},{key:"componentWillUnmount",value:function(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleEscKeyDown)}},{key:"render",value:function(){var t=this,e=this.props,n=e.open,o=e.position,r=e.overlayStyle,i=e.contentStyle,a=o.split(/(?=[A-Z])/).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),s=p({},S.wrapper,S.alignItems[a[0]],S.justifyContent[a[1]]),l=p({},S.overlay,r),u=p({},S.content,i);return n?y.createElement(w,null,y.createElement(C,{in:n,appear:!0,timeout:0},function(e){return y.createElement("div",{style:p({},s,S.transitionStyles[e])},y.createElement("div",{onClick:t.handleOverlayClick,style:l}),y.createElement("div",{style:u},t._renderCloseBtn(),t.props.children))})):null}},{key:"_renderCloseBtn",value:function(){return this.props.closeBtn?y.createElement("div",{style:S.closeBtn,onClick:this.handleCloseBtn},y.createElement("svg",{viewBox:"0 0 40 40"},y.createElement("g",null,y.createElement("path",{d:"m31.6 10.7l-9.3 9.3 9.3 9.3-2.3 2.3-9.3-9.3-9.3 9.3-2.3-2.3 9.3-9.3-9.3-9.3 2.3-2.3 9.3 9.3 9.3-9.3z"})))):null}}]),n}(e.Component);return _.defaultProps={position:"topCenter",closeOnOverlay:!0,overlayStyle:{}},_});
